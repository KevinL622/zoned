!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=72)}([function(e,t,n){"use strict";var r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function i(e){return null!==e&&"object"==typeof e}function a(e){return"[object Function]"===r.call(e)}function s(e,t){if(null!==e&&void 0!==e)if("object"==typeof e||o(e)||(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:a,isStream:function(e){return i(e)&&a(e.pipe)},isStandardBrowserEnv:function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement},forEach:s,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(22)},function(e,t,n){"use strict";var r=[200,201];e.exports={isSuccess:function(e){return r.indexOf(e.status)>-1},deleteEmpty:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(e).forEach(function(n){null!==e[n]&&void 0!==e[n]&&(!0!==t||""!==e[n]&&0!==e[n].length&&0!==Object.keys(e[n]).length)||delete e[n]})},clone:function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},checkType:function(e,t){return e instanceof RegExp==!1&&(e=new RegExp(e)),e.test(Object.prototype.toString.call(t))}}},function(e,t,n){"use strict";var r=["withinMiles","withinKilometers","withinRadians","withinDegrees"];e.exports={API:{TOKEN_PATH:"/token",MODELS_PATH:"/models",MODEL_PATH:"/models/$0",MODEL_VERSIONS_PATH:"/models/$0/versions",MODEL_VERSION_PATH:"/models/$0/versions/$1",MODEL_PATCH_PATH:"/models/$0/output_info/data/concepts",MODEL_OUTPUT_PATH:"/models/$0/output_info",MODEL_SEARCH_PATH:"/models/searches",MODEL_FEEDBACK_PATH:"/models/$0/feedback",MODEL_VERSION_FEEDBACK_PATH:"/models/$0/versions/$1/feedback",PREDICT_PATH:"/models/$0/outputs",VERSION_PREDICT_PATH:"/models/$0/versions/$1/outputs",CONCEPTS_PATH:"/concepts",CONCEPT_PATH:"/concepts/$0",CONCEPT_SEARCH_PATH:"/concepts/searches",MODEL_INPUTS_PATH:"/models/$0/inputs",MODEL_VERSION_INPUTS_PATH:"/models/$0/versions/$1/inputs",MODEL_VERSION_METRICS_PATH:"/models/$0/versions/$1/metrics",INPUTS_PATH:"/inputs",INPUT_PATH:"/inputs/$0",INPUTS_STATUS_PATH:"/inputs/status",SEARCH_PATH:"/searches",WORKFLOWS_PATH:"/workflows",WORKFLOW_PATH:"/workflows/$0",WORKFLOW_RESULTS_PATH:"/workflows/$0/results"},ERRORS:{paramsRequired:function(e){var t=Array.isArray(e)?e:[e];return new Error("The following "+(t.length>1?"params are":"param is")+" required: "+t.join(", "))},MAX_INPUTS:new Error("Number of inputs passed exceeded max of 128"),INVALID_GEOLIMIT_TYPE:new Error("Incorrect geo_limit type. Value must be any of the following: "+r.join(", ")),INVALID_DELETE_ARGS:new Error("Wrong arguments passed. You can only delete all models (provide no arguments), delete select models (provide list of ids),\n    delete a single model (providing a single id) or delete a model version (provide a single id and version id)")},STATUS:{MODEL_QUEUED_FOR_TRAINING:"21103",MODEL_TRAINING:"21101"},replaceVars:function(e){var t=e;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(e,n){0===n&&(e=encodeURIComponent(e)),t=t.replace(new RegExp("\\$"+n,"g"),e)}),t},getBasePath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.clarifai.com",t=arguments[1],n=arguments[2];return t&&n?e+"/v2/users/"+t+"/apps/"+n:e+"/v2"},GEO_LIMIT_TYPES:r,MAX_BATCH_SIZE:128,SYNC_TIMEOUT:36e4,POLLTIME:2e3}},function(e,t,n){"use strict";var r=n(6),o=n(62),i=n(3),a=i.GEO_LIMIT_TYPES,s=i.ERRORS,c=n(2),u=c.checkType,f=c.clone,l=n(16).version;e.exports={wrapToken:function(e,t){return new r(function(n,r){if(e.apiKey){var o={Authorization:"Key "+e.apiKey,"X-Clarifai-Client":"js:"+l};return t(o).then(n,r)}if(e.sessionToken){var i={"X-Clarifai-Session-Token":e.sessionToken,"X-Clarifai-Client":"js:"+l};return t(i).then(n,r)}e.token().then(function(e){var o={Authorization:"Bearer "+e.accessToken,"X-Clarifai-Client":"js:"+l};t(o).then(n,r)},r)})},formatModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};if(null===t.id||void 0===t.id)throw s.paramsRequired("Model ID");return n.id=t.id,t.name&&(n.name=t.name),n.output_info={},void 0!==t.conceptsMutuallyExclusive&&(n.output_info.output_config=n.output_info.output_config||{},n.output_info.output_config.concepts_mutually_exclusive=!!t.conceptsMutuallyExclusive),void 0!==t.closedEnvironment&&(n.output_info.output_config=n.output_info.output_config||{},n.output_info.output_config.closed_environment=!!t.closedEnvironment),t.concepts&&(n.output_info.data={concepts:t.concepts.map(e.exports.formatConcept)}),n},formatInput:function(e,t){var n=u(/String/,e)?{url:e}:e,r={id:n.id||null,data:{}};return n.concepts&&(r.data.concepts=n.concepts),n.metadata&&(r.data.metadata=n.metadata),n.geo&&(r.data.geo={geo_point:n.geo}),n.regions&&(r.data.regions=n.regions),!1!==t&&(r.data.image={url:n.url,base64:n.base64,crop:n.crop},e.allowDuplicateUrl&&(r.data.image.allow_duplicate_url=!0)),r},formatMediaPredict:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image",n=void 0,r=void 0;(n=u(/String/,e)?o.isWebUri(e)?{url:e}:{base64:e}:Object.assign({},e)).id&&(r=n.id,delete n.id);var i={data:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)};return r&&(i.id=r),i},formatImagesSearch:function(e){var t=void 0,n={input:{data:{}}},r=[];if(t=u(/String/,e)?{url:e}:e.url||e.base64?{image:{url:e.url,base64:e.base64,crop:e.crop}}:{},n.input.data=t,e.id&&(n.input.id=e.id,n.input.data={image:{}},e.crop&&(n.input.data.image.crop=e.crop)),void 0!==e.metadata&&(n.input.data.metadata=e.metadata),void 0!==e.geo)if(u(/Array/,e.geo))n.input.data.geo={geo_box:e.geo.map(function(e){return{geo_point:e}})};else if(u(/Object/,e.geo)){if(-1===a.indexOf(e.geo.type))throw s.INVALID_GEOLIMIT_TYPE;n.input.data.geo={geo_point:{latitude:e.geo.latitude,longitude:e.geo.longitude},geo_limit:{type:e.geo.type,value:e.geo.value}}}if("input"!==e.type&&n.input.data.image)if(n.input.data.metadata||n.input.data.geo){var o={input:{data:f(n.input.data)}},i={input:{data:f(n.input.data)}};delete o.input.data.image,delete i.input.data.metadata,delete i.input.data.geo,n=[{output:i},o]}else n=[{output:n}];return r=r.concat(n)},formatConcept:function(e){var t=e;return u(/String/,e)&&(t={id:e}),t},formatConceptsSearch:function(e){u(/String/,e)&&(e={id:e});var t={},n="input"===e.type?"input":"output";return delete e.type,t[n]={data:{concepts:[e]}},t},formatObjectForSnakeCase:function(e){return Object.keys(e).reduce(function(t,n){return t[n.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})]=e[n],t},{})}}},function(e,t,n){"use strict";var r=n(15);function o(){}var i=null,a={};function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==o&&d(e,this)}function c(e,t){for(;3===e._65;)e=e._55;if(s._37&&s._37(e),0===e._65)return 0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t);!function(e,t){r(function(){var n=1===e._65?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return i=e,a}}(n,e._55);r===a?f(t.promise,i):u(t.promise,r)}else 1===e._65?u(t.promise,e._55):f(t.promise,e._55)})}(e,t)}function u(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return i=e,a}}(t);if(n===a)return f(e,i);if(n===e.then&&t instanceof s)return e._65=3,e._55=t,void l(e);if("function"==typeof n)return void d(n.bind(t),e)}e._65=1,e._55=t,l(e)}function f(e,t){e._65=2,e._55=t,s._87&&s._87(e,t),l(e)}function l(e){if(1===e._40&&(c(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)c(e,e._72[t]);e._72=null}}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return i=e,a}}(e,function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==a||(n=!0,f(t,i))}e.exports=s,s._37=null,s._87=null,s._61=o,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor(function(r,i){var a=new s(o);a.then(r,i),c(e,new p(t,n,a))})}(this,e,t);var n=new s(o);return c(this,new p(e,t,n)),n}},function(e,t,n){"use strict";e.exports=n(52)},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(64),a=n(3),s=a.API,c=a.replaceVars,u=s.CONCEPTS_PATH,f=s.CONCEPT_PATH,l=s.CONCEPT_SEARCH_PATH,p=n(4),d=p.wrapToken,h=p.formatConcept,g=n(2),v=g.isSuccess,m=g.checkType,_=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new i(n._config,e)}),this.length=r.length}return r(e,[{key:"list",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=""+this._config.basePath+u;return d(this._config,function(i){return new Promise(function(a,s){o.get(r,{headers:i,params:{page:n.page,per_page:n.perPage}}).then(function(n){v(n)?a(new e(t._config,n.data.concepts)):s(n)},s)})})}},{key:"get",value:function(e){var t=this,n=""+this._config.basePath+c(f,[e]);return d(this._config,function(e){return new Promise(function(r,a){o.get(n,{headers:e}).then(function(e){v(e)?r(new i(t._config,e.data.concept)):a(e)},a)})})}},{key:"create",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(/(Object|String)/,n)&&(n=[n]);var r={concepts:n.map(h)},i=""+this._config.basePath+u;return d(this._config,function(n){return new Promise(function(a,s){o.post(i,r,{headers:n}).then(function(n){v(n)?a(new e(t._config,n.data.concepts)):s(n)},s)})})}},{key:"search",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=""+this._config.basePath+l;return d(this._config,function(a){var s={concept_query:{name:t,language:r}};return new Promise(function(t,r){o.post(i,s,{headers:a}).then(function(o){v(o)?t(new e(n._config,o.data.concepts)):r(o)},r)})})}},{key:"update",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"overwrite";m(/Array/,n)||(n=[n]);var i={concepts:n,action:r},a=""+this._config.basePath+u;return d(this._config,function(n){return new Promise(function(r,s){o.patch(a,i,{headers:n}).then(function(n){v(n)?r(new e(t._config,n.data.concepts)):s(n)},s)})})}}]),e}();e.exports=_},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(n):e(n)}},function(e,t,n){e.exports=n(31)({http:n(41),https:n(42)})},function(e,t){e.exports=require("url")},function(e,t,n){var r;function o(e){function n(){if(n.enabled){var e=n,o=+new Date,i=o-(r||o);e.diff=i,e.prev=r,e.curr=o,r=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n}),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(34),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict";var r,o="function"==typeof setImmediate;function i(e){a.length||(l(),s=!0),a[a.length]=e}e.exports=i;var a=[],s=!1,c=0,u=1024;function f(){for(;c<a.length;){var e=c;if(c+=1,a[e].call(),c>u){for(var t=0,n=a.length-c;t<n;t++)a[t]=a[t+c];a.length-=c,c=0}}a.length=0,c=0,s=!1}function l(){var e=process.domain;e&&(r||(r=n(53)),r.active=process.domain=null),s&&o?setImmediate(f):process.nextTick(f),e&&(r.active=process.domain=e)}i.requestFlush=l},function(e){e.exports={_from:"clarifai",_id:"clarifai@2.9.0",_inBundle:!1,_integrity:"sha512-u7Ip+D0pWXUc36p1c9OT/n3geSxKzx1mJdrPNz/ruhX9xqqtooUBJXF7Z/dNIqQLFTnr8fIQZsZxWhliOF91uQ==",_location:"/clarifai",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"clarifai",name:"clarifai",escapedName:"clarifai",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/clarifai/-/clarifai-2.9.0.tgz",_shasum:"ff213594f2d3ae839d28977b5db4718afa445c36",_spec:"clarifai",_where:"/Users/vokoshyv/Documents/Documents - Ron’s MacBook Pro/hackathon/jamstack/zoned",author:{name:"Clarifai Inc."},bugs:{url:"https://github.com/Clarifai/clarifai-javascript/issues"},bundleDependencies:!1,dependencies:{axios:"^0.11.1","form-data":"^0.2.0",promise:"^7.1.1","valid-url":"^1.0.9"},deprecated:!1,description:"Official Clarifai Javascript SDK",devDependencies:{"babel-eslint":"^6.1.2","babel-preset-es2015":"^6.14.0","babel-register":"^6.14.0",babelify:"^7.3.0",del:"^2.0.2",envify:"^3.4.0","git-branch":"^0.3.0",gulp:"^3.9.1","gulp-awspublish":"^3.0.1","gulp-babel":"^6.1.2","gulp-browserify":"^0.5.1","gulp-concat":"^2.6.0","gulp-eslint":"^2.0.0","gulp-if":"^2.0.0","gulp-insert":"^0.5.0","gulp-jasmine":"^2.2.1","gulp-notify":"2.2.0","gulp-rename":"^1.2.2","gulp-replace-task":"^0.11.0","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6",jsdoc:"^3.4.1",minami:"^1.1.1","release-it":"^2.9.0","require-dir":"^0.3.0","serve-static":"^1.10.0"},homepage:"https://github.com/Clarifai/clarifai-javascript#readme",license:"Apache-2.0",main:"dist/index.js",name:"clarifai",repository:{type:"git",url:"git+https://github.com/Clarifai/clarifai-javascript.git"},scripts:{build:"npm run clean && gulp build && npm run jsdoc",clean:"gulp cleanbuild",jsdoc:"jsdoc src/* -t node_modules/minami -d docs/$npm_package_version && jsdoc src/* -t node_modules/minami -d docs/latest",release:"release-it",test:"gulp test",watch:"gulp watch"},version:"2.9.0"}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(3),a=i.API,s=i.replaceVars,c=a.WORKFLOWS_PATH,u=a.WORKFLOW_PATH,f=a.WORKFLOW_RESULTS_PATH,l=n(4),p=l.wrapToken,d=l.formatInput,h=n(2).checkType,g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this.rawData=n,this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.appId=n.app_id||n.appId}return r(e,[{key:"create",value:function(e,t){var n=""+this._config.basePath+c,r={workflows:[{id:e,nodes:[{id:"concepts",model:{id:t.modelId,model_version:{id:t.modelVersionId}}}]}]};return p(this._config,function(e){return new Promise(function(t,i){o.post(n,r,{headers:e}).then(function(e){var n=e.data.workflows[0].id;t(n)},i)})})}},{key:"delete",value:function(e,t){var n=""+this._config.basePath+s(u,[e]);return p(this._config,function(e){return new Promise(function(t,r){o.delete(n,{headers:e}).then(function(e){var n=e.data;t(n)},r)})})}},{key:"predict",value:function(e,t){var n=""+this._config.basePath+s(f,[e]);return h(/(Object|String)/,t)&&(t=[t]),p(this._config,function(e){var r={inputs:t.map(d)};return new Promise(function(t,i){o.post(n,r,{headers:e}).then(function(e){var n=e.data;t(n)},i)})})}}]),e}();e.exports=g},function(e,t,n){const r=n(9),o=n(19);function i(e){console.log(`[dotenv][DEBUG] ${e}`)}function a(e,t){const n=Boolean(t&&t.debug),r={};return e.toString().split("\n").forEach(function(e,t){const o=e.match(/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/);if(null!=o){const e=o[1];let t=o[2]||"";const n=t?t.length:0;n>0&&'"'===t.charAt(0)&&'"'===t.charAt(n-1)&&(t=t.replace(/\\n/gm,"\n")),t=t.replace(/(^['"]|['"]$)/g,"").trim(),r[e]=t}else n&&i(`did not match key and value when parsing line ${t+1}: ${e}`)}),r}function s(e){let t=o.resolve(process.cwd(),".env"),n="utf8",s=!1;e&&(null!=e.path&&(t=e.path),null!=e.encoding&&(n=e.encoding),null!=e.debug&&(s=!0));try{const e=a(r.readFileSync(t,{encoding:n}),{debug:s});return Object.keys(e).forEach(function(t){process.env.hasOwnProperty(t)?s&&i(`"${t}" is already defined in \`process.env\` and will not be overwritten`):process.env[t]=e[t]}),{parsed:e}}catch(e){return{error:e}}}e.exports.config=s,e.exports.load=s,e.exports.parse=a},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";var r=n(21),o=n(16).version;e.exports=global.Clarifai={version:o,App:r,GENERAL_MODEL:"aaa03c23b3724a16a56b629203edc62c",FOOD_MODEL:"bd367be194cf45149e75f01d59f77ba7",TRAVEL_MODEL:"eee28c313d69466f836ab83287a54ed9",NSFW_MODEL:"e9576d86d2004ed1a38ba0cf39ecb4b1",WEDDINGS_MODEL:"c386b7a870114f4a87477c0824499348",WEDDING_MODEL:"c386b7a870114f4a87477c0824499348",COLOR_MODEL:"eeed0b6733a644cea07cf4c60f87ebb7",CLUSTER_MODEL:"cccbe437d6e54e2bb911c6aa292fb072",FACE_DETECT_MODEL:"a403429f2ddf4b49b307e318f00e528b",FOCUS_MODEL:"c2cf7cecd8a6427da375b9f35fcd2381",LOGO_MODEL:"c443119bf2ed4da98487520d01a0b1e3",DEMOGRAPHICS_MODEL:"c0c0ac362b03416da06ab3fa36fb58e3",GENERAL_EMBED_MODEL:"bbb5f41425b8468d9b7a554ff10f8581",FACE_EMBED_MODEL:"d02b4508df58432fbb84e800597b8959",APPAREL_MODEL:"e0be3b9d6a454f0493ac3a30784001ff",MODERATION_MODEL:"d16f390eb32cad478c7ae150069bd2c6",TEXTURES_AND_PATTERNS:"fbefb47f9fdb410e8ce14f24f54b47ff",LANDSCAPE_QUALITY:"bec14810deb94c40a05f1f0eb3c91403",PORTRAIT_QUALITY:"de9bd05cfdbf4534af151beb2a5d0953"}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1),a=n(2).checkType,s=n(51),c=n(65),u=n(8),f=n(17),l=n(69),p=n(70),d=n(3),h=d.API,g=d.ERRORS,v=d.getBasePath,m=h.TOKEN_PATH;"undefined"==typeof window||"Promise"in window||(window.Promise=n(6)),"undefined"==typeof global||"Promise"in global||(global.Promise=n(6));var _=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t;"object"===(void 0===t?"undefined":r(t))&&null!==t||((i=o||{}).clientId=t,i.clientSecret=n),this._validate(i),this._init(i)}return o(e,[{key:"getToken",value:function(){return this._config.token()}},{key:"setToken",value:function(e){var t=e,n=(new Date).getTime();return!!((t="string"==typeof e?{accessToken:e,expiresIn:176400}:{accessToken:e.access_token||e.accessToken,expiresIn:e.expires_in||e.expiresIn}).accessToken&&t.expiresIn||t.access_token&&t.expires_in)&&(t.expireTime||(t.expireTime=n+1e3*t.expiresIn),this._config._token=t,!0)}},{key:"_validate",value:function(e){var t=e.clientId,n=e.clientSecret,r=e.token,o=e.apiKey,i=e.sessionToken;if(!(t&&n||r||o||i))throw g.paramsRequired(["Client ID","Client Secret"])}},{key:"_init",value:function(e){var t=this,n=e.apiEndpoint||process&&process.env&&process.env.API_ENDPOINT||"https://api.clarifai.com";this._config={apiEndpoint:n,clientId:e.clientId,clientSecret:e.clientSecret,apiKey:e.apiKey,sessionToken:e.sessionToken,basePath:v(n,e.userId,e.appId),token:function(){return new Promise(function(e,n){var r=(new Date).getTime();a(/Object/,t._config._token)&&t._config._token.expireTime>r?e(t._config._token):t._getToken(e,n)})}},e.token&&this.setToken(e.token),this.models=new s(this._config),this.inputs=new c(this._config),this.concepts=new u(this._config),this.workflow=new f(this._config),this.workflows=new l(this._config),this.solutions=new p(this._config)}},{key:"_getToken",value:function(e,t){var n=this;this._requestToken().then(function(r){200===r.status?(n.setToken(r.data),e(n._config._token)):t(r)},t)}},{key:"_requestToken",value:function(){var e=""+this._config.basePath+m,t=this._config.clientId,n=this._config.clientSecret;return i({url:e,method:"POST",auth:{username:t,password:n}})}}]),e}();e.exports=_},function(e,t,n){"use strict";var r=n(23),o=n(0),i=n(24),a=n(46),s=n(47),c=n(48),u=n(49),f=n(7);function l(e){this.defaults=o.merge({},e),this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,this.defaults,{method:"get"},e)).baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.withCredentials=e.withCredentials||this.defaults.withCredentials,e.data=f(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n};var p=new l(r),d=e.exports=u(l.prototype.request,p);e.exports.Axios=l,d.defaults=p.defaults,d.interceptors=p.interceptors,d.create=function(e){return new l(e)},d.all=function(e){return Promise.all(e)},d.spread=n(50),o.forEach(["delete","get","head"],function(e){l.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))},d[e]=u(l.prototype[e],p)}),o.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))},d[e]=u(l.prototype[e],p)})},function(e,t,n){"use strict";var r=n(0),o=/^\)\]\}',?\n/,i={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(e,t){return r.isFormData(e)||r.isArrayBuffer(e)||r.isStream(e)?e:r.isArrayBufferView(e)?e.buffer:!r.isObject(e)||r.isFile(e)||r.isBlob(e)?e:(r.isUndefined(t)||(r.forEach(t,function(e,n){"content-type"===n.toLowerCase()&&(t["Content-Type"]=e)}),r.isUndefined(t["Content-Type"])&&(t["Content-Type"]="application/json;charset=utf-8")),JSON.stringify(e))}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(o,"");try{e=JSON.parse(e)}catch(e){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:r.merge(i),post:r.merge(i),put:r.merge(i)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}}},function(e,t,n){"use strict";e.exports=function(e){return new Promise(function(t,r){try{var o;"function"==typeof e.adapter?o=e.adapter:"undefined"!=typeof XMLHttpRequest?o=n(25):"undefined"!=typeof process&&(o=n(30)),"function"==typeof o&&o(t,r,e)}catch(e){r(e)}})}},function(e,t,n){"use strict";var r=n(0),o=n(10),i=n(26),a=n(7),s=n(27),c="undefined"!=typeof window&&window.btoa||n(28),u=n(11);e.exports=function(e,t,f){var l=f.data,p=f.headers;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(f.url)||(d=new window.XDomainRequest,h="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),f.auth){var v=f.auth.username||"",m=f.auth.password||"";p.Authorization="Basic "+c(v+":"+m)}if(d.open(f.method.toUpperCase(),o(f.url,f.params,f.paramsSerializer),!0),d.timeout=f.timeout,d[h]=function(){if(d&&(4===d.readyState||g)&&0!==d.status){var n="getAllResponseHeaders"in d?i(d.getAllResponseHeaders()):null,r=f.responseType&&"text"!==f.responseType?d.response:d.responseText,o={data:a(r,n,f.transformResponse),status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:f,request:d};u(e,t,o),d=null}},d.onerror=function(){t(new Error("Network Error")),d=null},d.ontimeout=function(){var e=new Error("timeout of "+f.timeout+"ms exceeded");e.timeout=f.timeout,e.code="ECONNABORTED",t(e),d=null},r.isStandardBrowserEnv()){var _=n(29),y=f.withCredentials||s(f.url)?_.read(f.xsrfCookieName):void 0;y&&(p[f.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(p,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),f.withCredentials&&(d.withCredentials=!0),f.responseType)try{d.responseType=f.responseType}catch(e){if("json"!==d.responseType)throw e}f.progress&&("post"===f.method||"put"===f.method?d.upload.addEventListener("progress",f.progress):"get"===f.method&&d.addEventListener("progress",f.progress)),void 0===l&&(l=null),d.send(l)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,i=String(e),a="",s=0,c=r;i.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&t>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new o;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0),o=n(10),i=n(7),a=n(12).http,s=n(12).https,c=n(13),u=n(43),f=n(44),l=n(45).Buffer,p=n(11);e.exports=function(e,t,n){var d,h=n.data,g=n.headers,v=!1;if(g["User-Agent"]||g["user-agent"]||(g["User-Agent"]="axios/"+f.version),h&&!r.isStream(h)){if(r.isArrayBuffer(h))h=new l(new Uint8Array(h));else{if(!r.isString(h))return t(new Error("Data after transformation must be a string, an ArrayBuffer, or a Stream"));h=new l(h,"utf-8")}g["Content-Length"]=h.length}var m=void 0;n.auth&&(m=(n.auth.username||"")+":"+(n.auth.password||""));var _=c.parse(n.url);if(!m&&_.auth){var y=_.auth.split(":");m=(y[0]||"")+":"+(y[1]||"")}var w={hostname:_.hostname,port:_.port,path:o(_.path,n.params,n.paramsSerializer).replace(/^\?/,""),method:n.method,headers:g,agent:n.agent,auth:m};n.proxy&&(w.host=n.proxy.host,w.port=n.proxy.port,w.path=_.protocol+"//"+_.hostname+w.path);var b=("https:"===_.protocol?s:a).request(w,function(r){if(!v){clearTimeout(d),d=null;var o=r;switch(r.headers["content-encoding"]){case"gzip":case"compress":case"deflate":o=o.pipe(u.createUnzip()),delete r.headers["content-encoding"]}var a={status:r.statusCode,statusText:r.statusMessage,headers:r.headers,config:n,request:b};if("stream"===n.responseType)a.data=o,p(e,t,a);else{var s=[];o.on("data",function(e){s.push(e),n.maxContentLength>-1&&l.concat(s).length>n.maxContentLength&&t(new Error("maxContentLength size of "+n.maxContentLength+" exceeded"))}),o.on("end",function(){var o=l.concat(s);"arraybuffer"!==n.responseType&&(o=o.toString("utf8")),a.data=i(o,r.headers,n.transformResponse),p(e,t,a)})}}});b.on("error",function(e){v||t(e)}),n.timeout&&!d&&(d=setTimeout(function(){var e=new Error("timeout of "+n.timeout+"ms exceeded");e.timeout=n.timeout,e.code="ECONNABORTED",b.abort(),t(e),v=!0},n.timeout)),r.isStream(h)?h.pipe(b):b.end(h)}},function(e,t,n){"use strict";var r=n(13),o=n(32)("follow-redirects"),i=n(39),a=n(40);function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}e.exports=function(e){var t={},n={maxRedirects:5};for(var u in e)e.hasOwnProperty(u)&&(i(/^[A-Z][A-Z\+\-\.]*$/i.test(u),JSON.stringify(u)+" is not a valid scheme name"),l(u,e[u]));return n;function f(e){var n,i=[];return n=function n(l){if(l){var p=r.format(e);if(i.unshift(p),!function(e){return e.statusCode>=300&&e.statusCode<=399&&"location"in e.headers}(l))return l.fetchedUrls=i,e.userCallback(l);a(l);var d=r.resolve(p,l.headers.location);o("redirecting to",d),function(e){for(var t=0,n=c.length;t<n;++t)e[c[t]]=null}(e),s(e,r.parse(d))}if(i.length>e.maxRedirects){var h=new Error("Max redirects exceeded.");return f(h)}e.nativeProtocol=t[e.protocol];e.defaultRequest=u;var g=(e.makeRequest||u)(e,n,l);l&&g.on("error",f);return g}();function u(e,t,n){n&&(e.method="GET");var r=e.nativeProtocol.request(e,t);return n&&r.end(),r}function f(e){n.emit("error",e)}}function l(e,r){var o=e+":",i=function(){};i.prototype=t[o]=r,i=new i,n[e]=i,i.request=function(e,t){return f(p(e,t,o))},i.get=function(e,t){var n=f(e=p(e,t,o));return n.end(),n}}function p(e,t,a){return i.equal(typeof t,"function","callback must be a function"),"string"==typeof e?(e=r.parse(e)).maxRedirects=n.maxRedirects:e=s({maxRedirects:n.maxRedirects,protocol:a},e),i.equal(e.protocol,a,"protocol mismatch"),e.protocol=a,e.userCallback=t,o("options",e),e}};var c=["protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href"]},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(33):e.exports=n(35)},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(14)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++o)}),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?function(e){return s(e,i,"day")||s(e,o,"hour")||s(e,r,"minute")||s(e,n,"second")||e+" ms"}(e):function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(36),o=n(37);(t=e.exports=n(14)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return a.write(o.format.apply(o,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,o="  [3"+r+";1m"+n+" [0m";e[0]=o+e[0].split("\n").join("\n"+o),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=s,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(i)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{});var i=parseInt(process.env.DEBUG_FD,10)||2;1!==i&&2!==i&&o.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var a=1===i?process.stdout:2===i?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var o=n(9);(t=new o.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var i=n(38);(t=new i.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(i);function s(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},t.enable(s())},function(e,t){e.exports=require("tty")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("assert")},function(e,t){e.exports=function(e){if(e.readable&&"function"==typeof e.resume){var t=e._readableState;if(!t||0===t.pipesCount)try{e.resume()}catch(e){console.error("Got error: "+e)}}}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("zlib")},function(e){e.exports={_from:"axios@^0.11.1",_id:"axios@0.11.1",_inBundle:!1,_integrity:"sha1-Oc22WBPixUnRwunDiffjOqZcyiI=",_location:"/axios",_phantomChildren:{"stream-consume":"0.1.1"},_requested:{type:"range",registry:!0,raw:"axios@^0.11.1",name:"axios",escapedName:"axios",rawSpec:"^0.11.1",saveSpec:null,fetchSpec:"^0.11.1"},_requiredBy:["/clarifai"],_resolved:"http://registry.npmjs.org/axios/-/axios-0.11.1.tgz",_shasum:"39cdb65813e2c549d1c2e9c389f7e33aa65cca22",_spec:"axios@^0.11.1",_where:"/Users/vokoshyv/Documents/Documents - Ron’s MacBook Pro/hackathon/jamstack/zoned/node_modules/clarifai",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/mzabriskie/axios/issues"},bundleDependencies:!1,dependencies:{"follow-redirects":"0.0.7"},deprecated:!1,description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"2.11.8","es6-promise":"3.1.2",grunt:"0.4.5","grunt-banner":"0.6.0","grunt-cli":"0.1.13","grunt-contrib-clean":"1.0.0","grunt-contrib-nodeunit":"1.0.0","grunt-contrib-watch":"0.6.1","grunt-eslint":"18.0.0","grunt-karma":"0.12.1","grunt-ts":"5.3.2","grunt-webpack":"1.0.11","istanbul-instrumenter-loader":"^0.2.0","jasmine-core":"2.4.1",karma:"0.13.21","karma-chrome-launcher":"^0.2.2","karma-coverage":"0.5.4","karma-firefox-launcher":"^0.1.7","karma-jasmine":"0.3.7","karma-jasmine-ajax":"0.1.13","karma-opera-launcher":"^0.3.0","karma-phantomjs-launcher":"1.0.0","karma-safari-launcher":"^0.1.1","karma-sauce-launcher":"^0.3.1","karma-sinon":"1.0.4","karma-sourcemap-loader":"0.3.7","karma-webpack":"1.7.0","load-grunt-tasks":"3.4.1",minimist:"1.2.0","phantomjs-prebuilt":"2.1.6",sinon:"1.17.3",webpack:"1.12.14","webpack-dev-server":"1.14.1"},homepage:"https://github.com/mzabriskie/axios",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/mzabriskie/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typescript:{definition:"./axios.d.ts"},version:"0.11.1"}},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(6),a=n(60),s=n(8),c=n(3),u=c.API,f=c.ERRORS,l=c.replaceVars,p=n(2),d=p.isSuccess,h=p.checkType,g=p.clone,v=n(4),m=v.wrapToken,_=v.formatModel,y=u.MODELS_PATH,w=u.MODEL_PATH,b=u.MODEL_SEARCH_PATH,E=u.MODEL_VERSION_PATH,P=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new a(n._config,e)}),this.length=r.length}return r(e,[{key:"initModel",value:function(e){var t=this,n={},r=void 0;return h(/String/,e)?n.id=e:n=e,r=n.id?function(e,r){e(new a(t._config,n))}:function(e,r){t.search(n.name,n.type).then(function(t){n.version?e(t.rawData.filter(function(e){return e.modelVersion.id===n.version})):e(t[0])},r).catch(r)},new i(r)}},{key:"predict",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h(/Boolean/,r)&&(console.warn('"isVideo" argument is deprecated, consider using the configuration object instead'),r={video:r}),e.language&&(r.language=e.language),new i(function(o,i){n.initModel(e).then(function(e){e.predict(t,r).then(o,i).catch(i)},i)})}},{key:"train",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new i(function(r,o){t.initModel(e).then(function(e){e.train(n).then(r,o).catch(o)},o)})}},{key:"feedback",value:function(e,t,n){var r=this;return new i(function(o,i){r.initModel(e).then(function(e){return e.feedback(t,n)}).then(function(e){return o(e)}).catch(function(e){return i(e)})})}},{key:"getVersion",value:function(e,t){var n=this;return new i(function(r,o){n.initModel(e).then(function(e){e.getVersion(t).then(r,o).catch(o)},o)})}},{key:"getVersions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,perPage:20};return new i(function(r,o){t.initModel(e).then(function(e){e.getVersions(n).then(r,o).catch(o)},o)})}},{key:"getOutputInfo",value:function(e){var t=this;return new i(function(n,r){t.initModel(e).then(function(e){e.getOutputInfo().then(n,r).catch(r)},r)})}},{key:"list",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=""+this._config.basePath+y;return m(this._config,function(a){return new i(function(i,s){o.get(r,{params:{per_page:n.perPage,page:n.page},headers:a}).then(function(n){d(n)?i(new e(t._config,n.data.models)):s(n)},s)})})}},{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n instanceof s?n.toObject("id"):n.map(function(e){var t=e;return h(/String/,e)&&(t={id:e}),t}),u=e;if(h(/String/,e)&&(u={id:e,name:e}),void 0===u.id)throw f.paramsRequired("Model ID");var l=""+this._config.basePath+y,p={model:u};return p.model.output_info={data:{concepts:c},output_config:{concepts_mutually_exclusive:!!r.conceptsMutuallyExclusive,closed_environment:!!r.closedEnvironment}},m(this._config,function(e){return new i(function(n,r){o.post(l,p,{headers:e}).then(function(e){d(e)?n(new a(t._config,e.data.model)):r(e)},r)})})}},{key:"get",value:function(e){var t=this,n=""+this._config.basePath+l(w,[e]);return m(this._config,function(e){return new i(function(r,i){o.get(n,{headers:e}).then(function(e){d(e)?r(new a(t._config,e.data.model)):i(e)},i)})})}},{key:"update",value:function(t){var n=this,r=""+this._config.basePath+y,a={models:(Array.isArray(t)?t:[t]).map(_)};return a.action=t.action||"merge",m(this._config,function(t){return new i(function(i,s){o.patch(r,a,{headers:t}).then(function(t){d(t)?i(new e(n._config,t.data.models)):s(t)},s)})})}},{key:"mergeConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.action="merge",this.update(e)}},{key:"deleteConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.action="remove",this.update(e)}},{key:"overwriteConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.action="overwrite",this.update(e)}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=void 0,r=void 0,a=void 0,s=e;if(h(/String/,e)||h(/Array/,e)&&1===e.length)r=t?""+this._config.basePath+l(E,[s,t]):""+this._config.basePath+l(w,[s]),n=m(this._config,function(e){return new i(function(t,n){o.delete(r,{headers:e}).then(function(e){var n=g(e.data);n.rawData=g(e.data),t(n)},n)})});else{if(e||t){if(t||!(e.length>1))throw f.INVALID_DELETE_ARGS;r=""+this._config.basePath+y,a={ids:e}}else r=""+this._config.basePath+y,a={delete_all:!0};n=m(this._config,function(e){return new i(function(t,n){o({method:"delete",url:r,data:a,headers:e}).then(function(e){var n=g(e.data);n.rawData=g(e.data),t(n)},n)})})}return n}},{key:"search",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=""+this._config.basePath+b;return m(this._config,function(s){var c={model_query:{name:t,type:r}};return new i(function(t,r){o.post(a,c,{headers:s}).then(function(o){d(o)?t(new e(n._config,o.data.models)):r(o)},r)})})}}]),e}();e.exports=P},function(e,t,n){"use strict";e.exports=n(5),n(54),n(55),n(56),n(57),n(59)},function(e,t){e.exports=require("domain")},function(e,t,n){"use strict";var r=n(5);e.exports=r,r.prototype.done=function(e,t){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})}},function(e,t,n){"use strict";var r=n(5);e.exports=r,r.prototype.finally=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},function(e,t,n){"use strict";var r=n(5);e.exports=r;var o=f(!0),i=f(!1),a=f(null),s=f(void 0),c=f(0),u=f("");function f(e){var t=new r(r._61);return t._65=1,t._55=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return o;if(!1===e)return i;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r(function(t,n){n(e)})}return f(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){if(0===t.length)return e([]);var o=t.length;function i(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._65;)s=s._55;return 1===s._65?i(a,s._55):(2===s._65&&n(s._55),void s.then(function(e){i(a,e)},n))}var c=s.then;if("function"==typeof c)return void new r(c.bind(s)).then(function(e){i(a,e)},n)}t[a]=s,0==--o&&e(t)}for(var a=0;a<t.length;a++)i(a,t[a])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";var r=n(5),o=n(58);e.exports=r,r.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?function(e,t){for(var n=[],o=0;o<t;o++)n.push("a"+o);var a=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([i]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],a)(r,e)}(e,t):function(e){for(var t=Math.max(e.length-1,3),n=[],o=0;o<t;o++)n.push("a"+o);var a=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+i+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],a)(r,e)}(e)};var i="function (err, res) {if (err) { rj(err); } else { rs(res); }}";r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,i=this;try{return e.apply(this,arguments).nodeify(n,i)}catch(e){if(null===n||void 0===n)return new r(function(t,n){n(e)});o(function(){n.call(i,e)})}}},r.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then(function(n){o(function(){e.call(t,null,n)})},function(n){o(function(){e.call(t,n)})})}},function(e,t,n){"use strict";var r=n(15),o=[];function i(){this.task=null,this.domain=null}e.exports=function(e){var t;t=o.length?o.pop():new i;t.task=e,t.domain=process.domain,r(t)},i.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&r.requestFlush(),this.task=null,this.domain=null,o.push(this)}}},function(e,t,n){"use strict";var r=n(5);e.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._65)return this._55.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._55},r.prototype.getReason=function(){if(3===this._65)return this._55.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._55},r.prototype.getState=function(){return 3===this._65?this._55.getState():-1===this._65||-2===this._65?0:this._65}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(61),a=n(2),s=a.isSuccess,c=a.checkType,u=a.clone,f=n(3),l=f.API,p=f.SYNC_TIMEOUT,d=f.replaceVars,h=f.STATUS,g=f.POLLTIME,v=h.MODEL_QUEUED_FOR_TRAINING,m=h.MODEL_TRAINING,_=n(4),y=_.wrapToken,w=_.formatMediaPredict,b=_.formatModel,E=_.formatObjectForSnakeCase,P=l.MODEL_VERSIONS_PATH,T=l.MODEL_VERSION_PATH,k=l.MODELS_PATH,O=l.MODEL_FEEDBACK_PATH,A=l.MODEL_VERSION_FEEDBACK_PATH,x=l.PREDICT_PATH,S=l.VERSION_PREDICT_PATH,C=l.MODEL_INPUTS_PATH,I=l.MODEL_OUTPUT_PATH,D=l.MODEL_VERSION_INPUTS_PATH,j=l.MODEL_VERSION_METRICS_PATH,R=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this.name=n.name,this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.appId=n.app_id||n.appId,this.outputInfo=n.output_info||n.outputInfo,c(/(String)/,n.version)?(this.modelVersion={},this.versionId=n.version):((n.model_version||n.modelVersion||n.version)&&(this.modelVersion=new i(this._config,n.model_version||n.modelVersion||n.version)),this.versionId=(this.modelVersion||{}).id),this.rawData=n}return r(e,[{key:"mergeConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];return this.update({action:"merge",concepts:t})}},{key:"deleteConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];return this.update({action:"remove",concepts:t})}},{key:"overwriteConcepts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];return this.update({action:"overwrite",concepts:t})}},{key:"runModelEval",value:function(){var e=this,t=""+this._config.basePath+d(j,[this.id,this.versionId]);return y(this._config,function(n){return new Promise(function(r,a){o.post(t,{},{headers:n}).then(function(t){s(t)?r(new i(e._config,t.data.model_version)):a(t)},a)})})}},{key:"update",value:function(t){var n=this,r=""+this._config.basePath+k,i={models:[t].map(function(e){return b(Object.assign(e,{id:n.id}))})};return Array.isArray(t.concepts)&&(i.action=t.action||"merge"),y(this._config,function(t){return new Promise(function(a,c){o.patch(r,i,{headers:t}).then(function(t){s(t)?a(new e(n._config,t.data.models[0])):c(t)},c)})})}},{key:"train",value:function(t){var n=this,r=""+this._config.basePath+d(P,[this.id]);return y(this._config,function(i){return new Promise(function(a,c){o.post(r,null,{headers:i}).then(function(r){if(s(r))if(t){var o=Date.now();n._pollTrain.bind(n)(o,a,c)}else a(new e(n._config,r.data.model));else c(r)},c)})})}},{key:"_pollTrain",value:function(e,t,n){var r=this;if(clearTimeout(this.pollTimeout),Date.now()-e>=p)return n({status:"Error",message:"Sync call timed out"});this.getOutputInfo().then(function(o){var i=o.modelVersion.status.code.toString();i===v||i===m?r.pollTimeout=setTimeout(function(){return r._pollTrain(e,t,n)},g):t(o)},n).catch(n)}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(/String/,t)&&(console.warn("passing the language as a string is deprecated, consider using the configuration object instead"),t={language:t}),n&&(console.warn('"isVideo" argument is deprecated, consider using the configuration object instead'),t.video=n);var r=t.video||!1;delete t.video,c(/(Object|String)/,e)&&(e=[e]);var i=""+this._config.basePath+(this.versionId?d(S,[this.id,this.versionId]):d(x,[this.id]));return y(this._config,function(n){var a={inputs:e.map(function(e){return w(e,r?"video":"image")})};return t&&Object.getOwnPropertyNames(t).length>0&&(a.model={output_info:{output_config:E(t)}}),new Promise(function(e,t){o.post(i,a,{headers:n}).then(function(t){var n=u(t.data);n.rawData=u(t.data),e(n)},t)})})}},{key:"getVersion",value:function(e){var t=""+this._config.basePath+d(T,[this.id,e]);return y(this._config,function(e){return new Promise(function(n,r){o.get(t,{headers:e}).then(function(e){var t=u(e.data);t.rawData=u(e.data),n(t)},r)})})}},{key:"getVersions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},t=""+this._config.basePath+d(P,[this.id]);return y(this._config,function(n){var r={headers:n,params:{per_page:e.perPage,page:e.page}};return new Promise(function(e,n){o.get(t,r).then(function(t){var n=u(t.data);n.rawData=u(t.data),e(n)},n)})})}},{key:"getOutputInfo",value:function(){var t=this,n=""+this._config.basePath+d(I,[this.id]);return y(this._config,function(r){return new Promise(function(i,a){o.get(n,{headers:r}).then(function(n){i(new e(t._config,n.data.model))},a)})})}},{key:"getInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},t=""+this._config.basePath+(this.versionId?d(D,[this.id,this.versionId]):d(C,[this.id]));return y(this._config,function(n){return new Promise(function(r,i){o.get(t,{params:{per_page:e.perPage,page:e.page},headers:n}).then(function(e){var t=u(e.data);t.rawData=u(e.data),r(t)},i)})})}},{key:"feedback",value:function(e,t){var n=t.id,r=t.data,i=t.info,a=""+this._config.basePath+(this.versionId?d(A,[this.id,this.versionId]):d(O,[this.id])),s=w(e).data;i.eventType="annotation";var c={input:{id:n,data:Object.assign(s,r),feedback_info:E(i)}};return y(this._config,function(e){return new Promise(function(t,n){o.post(a,c,{headers:e}).then(function(e){var n=e.data,r=u(n);r.rawData=u(n),t(r)},n)})})}}]),e}();e.exports=R},function(e,t,n){"use strict";e.exports=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n.id,this.created_at=this.createdAt=n.created_at||n.createdAt,this.status=n.status,this.active_concept_count=n.active_concept_count,this.metrics=n.metrics,this._config=t,this.rawData=n}},function(e,t,n){(function(e){!function(e){"use strict";e.exports.is_uri=n,e.exports.is_http_uri=r,e.exports.is_https_uri=o,e.exports.is_web_uri=i,e.exports.isUri=n,e.exports.isHttpUri=r,e.exports.isHttpsUri=o,e.exports.isWebUri=i;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function n(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var n,r,o,i,a,s="",c="";if(s=(n=t(e))[1],r=n[2],o=n[3],i=n[4],a=n[5],s&&s.length&&o.length>=0){if(r&&r.length){if(0!==o.length&&!/^\//.test(o))return}else if(/^\/\//.test(o))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(s.toLowerCase()))return c+=s+":",r&&r.length&&(c+="//"+r),c+=o,i&&i.length&&(c+="?"+i),a&&a.length&&(c+="#"+a),c}}}function r(e,r){if(n(e)){var o,i,a,s,c="",u="",f="",l="";if(c=(o=t(e))[1],u=o[2],i=o[3],a=o[4],s=o[5],c){if(r){if("https"!=c.toLowerCase())return}else if("http"!=c.toLowerCase())return;if(u)return/:(\d+)$/.test(u)&&(f=u.match(/:(\d+)$/)[0],u=u.replace(/:\d+$/,"")),l+=c+":",l+="//"+u,f&&(l+=f),l+=i,a&&a.length&&(l+="?"+a),s&&s.length&&(l+="#"+s),l}}}function o(e){return r(e,!0)}function i(e){return r(e)||o(e)}}(e)}).call(this,n(63)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n.id,this.name=n.name,this.createdAt=n.created_at||n.createdAt,this.appId=n.app_id||n.appId,this.value=n.value||null,this._config=t,this.rawData=n}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(66),a=n(3),s=a.API,c=a.ERRORS,u=a.MAX_BATCH_SIZE,f=a.replaceVars,l=s.INPUT_PATH,p=s.INPUTS_PATH,d=s.INPUTS_STATUS_PATH,h=s.SEARCH_PATH,g=n(4),v=g.wrapToken,m=g.formatInput,_=g.formatImagesSearch,y=g.formatConceptsSearch,w=n(2),b=w.isSuccess,E=w.checkType,P=w.clone,T=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rawData=r,r.forEach(function(e,t){e.input&&e.score&&(e.input.score=e.score,e=e.input),n[t]=new i(n._config,e)}),this.length=r.length,this._config=t}return r(e,[{key:"list",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=""+this._config.basePath+p;return v(this._config,function(i){return new Promise(function(a,s){o.get(r,{headers:i,params:{page:n.page,per_page:n.perPage}}).then(function(n){b(n)?a(new e(t._config,n.data.inputs)):s(n)},s)})})}},{key:"create",value:function(t){var n=this;E(/(String|Object)/,t)&&(t=[t]);var r=""+this._config.basePath+p;if(t.length>u)throw c.MAX_INPUTS;return v(this._config,function(i){var a={inputs:t.map(m)};return new Promise(function(t,s){o.post(r,a,{headers:i}).then(function(r){b(r)?t(new e(n._config,r.data.inputs)):s(r)},s)})})}},{key:"get",value:function(e){var t=this,n=""+this._config.basePath+f(l,[e]);return v(this._config,function(e){return new Promise(function(r,a){o.get(n,{headers:e}).then(function(e){b(e)?r(new i(t._config,e.data.input)):a(e)},a)})})}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=void 0;if(E(/String/,e)){var n=""+this._config.basePath+f(l,[e]);t=v(this._config,function(e){return o.delete(n,{headers:e})})}else t=this._deleteInputs(e);return t}},{key:"_deleteInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=""+this._config.basePath+p;return v(this._config,function(n){return o({url:t,method:"delete",headers:n,data:null===e?{delete_all:!0}:{ids:e}})})}},{key:"mergeConcepts",value:function(e){return e.action="merge",this.update(e)}},{key:"deleteConcepts",value:function(e){return e.action="remove",this.update(e)}},{key:"overwriteConcepts",value:function(e){return e.action="overwrite",this.update(e)}},{key:"update",value:function(t){var n=this,r=""+this._config.basePath+p,i=Array.isArray(t)?t:[t];if(i.length>u)throw c.MAX_INPUTS;var a={action:t.action,inputs:i.map(function(e){return m(e,!1)})};return v(this._config,function(t){return new Promise(function(i,s){o.patch(r,a,{headers:t}).then(function(t){b(t)?i(new e(n._config,t.data.inputs)):s(t)},s)})})}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,perPage:20},n=[],r=""+this._config.basePath+h,i={query:{ands:[]},pagination:{page:t.page,per_page:t.perPage}};return Array.isArray(e)||(e=[e]),e.length>0&&(e.forEach(function(e){e.input?n=n.concat(_(e.input)):e.concept&&(n=n.concat(y(e.concept)))}),i.query.ands=n),v(this._config,function(e){return new Promise(function(t,n){o.post(r,i,{headers:e}).then(function(e){if(b(e)){var r=P(e.data);r.rawData=P(e.data),t(r)}else n(e)},n)})})}},{key:"getStatus",value:function(){var e=""+this._config.basePath+d;return v(this._config,function(t){return new Promise(function(n,r){o.get(e,{headers:t}).then(function(e){if(b(e)){var t=P(e.data);t.rawData=P(e.data),n(t)}else r(e)},r)})})}}]),e}();e.exports=T},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(8),a=n(67),s=n(3).API.INPUTS_PATH,c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.imageUrl=n.data.image.url,this.concepts=new i(t,n.data.concepts),this.regions=new a(t,n.data.regions||[]),this.score=n.score,this.metadata=n.data.metadata,n.data.geo&&n.data.geo.geo_point&&(this.geo={geoPoint:n.data.geo.geo_point}),this.rawData=n,this._config=t}return r(e,[{key:"mergeConcepts",value:function(e,t){return this._update("merge",e,t)}},{key:"deleteConcepts",value:function(e,t){return this._update("remove",e,t)}},{key:"overwriteConcepts",value:function(e,t){return this._update("overwrite",e,t)}},{key:"_update",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=""+this._config.basePath+s,a={};n.length&&(a.concepts=n),null!==r&&(a.metadata=r);var c={action:t,inputs:[{id:this.id,data:a}]};return wrapToken(this._config,function(t){return new Promise(function(n,r){return o.patch(i,c,{headers:t}).then(function(t){isSuccess(t)?n(new e(t.data.input)):r(t)},r)})})}}]),e}();e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(68),i=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new o(n._config,e)}),this.length=r.length}return r(e,[{key:Symbol.iterator,value:function(){var e=this,t=-1;return{next:function(){return{value:e[++t],done:t>=e.length}}}}}]),e}();e.exports=i},function(e,t,n){"use strict";e.exports=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n.id,this.top=n.region_info.bounding_box.top_row,this.left=n.region_info.bounding_box.left_col,this.bottom=n.region_info.bounding_box.bottom_row,this.right=n.region_info.bounding_box.right_col}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(17),a=n(3),s=a.API,c=a.replaceVars,u=s.WORKFLOWS_PATH,f=s.WORKFLOW_PATH,l=n(4).wrapToken,p=n(2).isSuccess,d=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new i(n._config,e)}),this.length=r.length}return r(e,[{key:"list",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=""+this._config.basePath+u;return l(this._config,function(i){return new Promise(function(a,s){o.get(r,{headers:i,params:{page:n.page,per_page:n.perPage}}).then(function(n){p(n)?a(new e(t._config,n.data.workflows)):s(n)},s)})})}},{key:"create",value:function(e,t){var n=""+this._config.basePath+u,r={workflows:[{id:e,nodes:[{id:"concepts",model:{id:t.modelId,model_version:{id:t.modelVersionId}}}]}]};return l(this._config,function(e){return new Promise(function(t,i){o.post(n,r,{headers:e}).then(function(e){var n=e.data.workflows[0].id;t(n)},i)})})}},{key:"delete",value:function(e){var t=""+this._config.basePath+c(f,[e]);return l(this._config,function(e){return new Promise(function(n,r){o.delete(t,{headers:e}).then(function(e){var t=e.data;n(t)},r)})})}}]),e}();e.exports=d},function(e,t,n){"use strict";var r=n(71);e.exports=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moderation=new r(t)}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(1),i=n(4).wrapToken,a=n(2),s=a.isSuccess,c=a.clone,u="https://api.clarifai-moderation.com",f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t}return r(e,[{key:"predict",value:function(e,t){return i(this._config,function(n){var r=u+"/v2/models/"+e+"/outputs",i={inputs:[{data:{image:{url:t}}}]};return new Promise(function(e,t){return o.post(r,i,{headers:n}).then(function(n){if(s(n)){var r=c(n.data);e(r)}else t(n)},t)})})}},{key:"getModerationStatus",value:function(e){return i(this._config,function(t){var n=u+"/v2/inputs/"+e+"/outputs";return new Promise(function(e,r){return o.get(n,{headers:t}).then(function(t){var n=c(t.data);e(n)},r)})})}}]),e}();e.exports=f},function(e,t,n){"use strict";n(18).config();let r=process.env.CLARIFAI_API_KEY;n(9),n(73);const o=new(n(20).App)({apiKey:r});let i={wedding:"c386b7a870114f4a87477c0824499348"};t.handler=function(e,t,n){console.log(e);let r=e.body;console.log("BODY: "),console.log(r),console.log(typeof r),void 0!==(r=JSON.parse(r)).imageURL?(console.log("URL PREDICTION!!"),function(e,t){return new Promise((n,r)=>{o.models.predict(i[e],t).then(function(e){n(e)},function(e){console.log(e),r(e)})})}("wedding",r.imageURL).then(e=>{console.log(e),n(null,{statusCode:200,body:JSON.stringify(e,null,2)})})):console.log("B64 PREDICTION!!")}},function(e,t,n){"use strict";function r(e){return Buffer.from(e,"base64").toString("binary")}e.exports=r.atob=r}]));